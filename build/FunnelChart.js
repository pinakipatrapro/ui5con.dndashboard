sap.ui.define(["ui5-cc-dndashboard/library","sap/ui/core/Control","ui5-cc-dndashboard/FunnelChartRenderer","sap/ui/dom/includeStylesheet"],function(e,t,a,r){"use strict";r(sap.ui.require.toUrl("funnel-graph-js/dist/css/main.min.css"));r(sap.ui.require.toUrl("funnel-graph-js/dist/css/theme.min.css"));var i=t.extend("ui5-cc-dndashboard.FunnelChart",{metadata:{library:"ui5-cc-dndashboard",properties:{direction:{type:"string",defaultValue:"vertical"},data:{type:"object",defaultValue:null},dimension:{type:"object",defaultValue:null},measure:{type:"object",defaultValue:null},measureColour:{type:"object",defaultValue:null}},events:{press:{}}},renderer:a,onAfterRendering:function(){var e=this.getDimension();var t=this.getMeasure();var a=this.getData();a=a.sort((e,a)=>a[t[0]]-e[t[0]]);var r={values:[],colors:this.getMeasureColour().map(e=>[`${e}05`,e]),labels:a.map(t=>t[e[0]]).filter((e,t,a)=>a.indexOf(e)===t),subLabels:a.map(t=>t[e[1]]).filter((e,t,a)=>a.indexOf(e)===t)};r.labels.forEach(i=>{var s=[];r.subLabels.forEach(r=>{s.push(a.filter(t=>t[e[0]]===i&&t[e[1]]===r)[0][t[0]])});r.values.push(s)});console.log(r);var i=new FunnelGraph({container:`#${this.getId()}`,gradientDirection:this.getDirection(),data:r,displayPercent:true,direction:this.getDirection()});setTimeout(()=>{i.draw()},0)}});return i});