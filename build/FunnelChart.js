sap.ui.define(["ui5-cc-dndashboard/library","sap/ui/core/Control","ui5-cc-dndashboard/FunnelChartRenderer","funnel-graph-js/dist/js/funnel-graph.min.js","sap/ui/dom/includeStylesheet"],function(e,t,a,r,s){"use strict";s(sap.ui.require.toUrl("funnel-graph-js/dist/css/main.min.css"));s(sap.ui.require.toUrl("funnel-graph-js/dist/css/theme.min.css"));var i=t.extend("ui5-cc-dndashboard.FunnelChart",{metadata:{library:"ui5-cc-dndashboard",properties:{direction:{type:"string",defaultValue:"vertical"},data:{type:"object",defaultValue:null},dimension:{type:"object",defaultValue:null},measure:{type:"object",defaultValue:null},measureColour:{type:"object",defaultValue:null}},events:{press:{}}},renderer:a,onAfterRendering:function(){var e=this.getDimension();var t=this.getMeasure();var a=this.getData();var a=a.sort((e,a)=>a[t[0]]-e[t[0]]);var s={values:[],colors:this.getMeasureColour().map(e=>[`${e}05`,e]),labels:a.map(t=>t[e[0]]).filter((e,t,a)=>a.indexOf(e)===t),subLabels:a.map(t=>t[e[1]]).filter((e,t,a)=>a.indexOf(e)===t)};s.labels.forEach(r=>{var i=[];s.subLabels.forEach(s=>{i.push(a.filter(t=>t[e[0]]===r&&t[e[1]]===s)[0][t[0]])});s.values.push(i)});console.log(s);var i=new r({container:`#${this.getId()}`,gradientDirection:this.getDirection(),data:s,displayPercent:true,direction:this.getDirection()});setTimeout(()=>{i.draw()},0)}});return i});